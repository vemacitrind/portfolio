<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="logo.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificates - Joshi Vedant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Animated Background with Dots -->
    <div class="background-animation">
        <div class="floating-dots"></div>
    </div>

    <!-- Main Container -->
    <main class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <a href="index.html" class="back-btn">
                    <i class="fa-solid fa-arrow-left"></i>
                    Back to Home
                </a>
            </div>

            <div class="header-right">
                <button class="theme-toggle">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path>
                    </svg>
                </button>
                <div class="live-status">
                    <div class="live-dot"></div>
                    <span>LIVE</span>
                </div>
            </div>
        </header>

        <!-- Enhanced Search and Filter Section -->
        <section class="projects-search-section">
            <div class="projects-filter">
                <input type="text" placeholder="Search certificates..." class="filter-input">
                <div class="filter-buttons">
                    <div class="dropdown-container">
                        <button class="filter-btn dropdown-btn" id="yearDropdown">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M8 12h8"></path>
                                <path d="M12 8v8"></path>
                            </svg>
                            Year
                            <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" class="dropdown-arrow">
                                <path d="M6 9l6 6 6-6"></path>
                            </svg>
                        </button>
                        <div class="dropdown-menu" id="yearDropdownMenu">
                            <div class="dropdown-item" data-year="2024">2024</div>
                            <div class="dropdown-item" data-year="2023">2023</div>
                            <div class="dropdown-item" data-year="2022">2022</div>
                            <div class="dropdown-item" data-year="All">All Years</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Certificates Grid -->
        <section class="projects-section">
            <div class="projects-grid" id="certificatesGrid">
                <!-- Certificates will be populated by JavaScript -->
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-bottom">
                <p>&copy; 2025 Joshi Vedant. All rights reserved.</p>
                <a href="index.html" class="footer-link">Back to Home</a>
            </div>
        </footer>
    </main>

    <script src="script.js"></script>
    <script>
        // Enhanced search functionality for certificates page
        document.addEventListener('DOMContentLoaded', function() {
            // Wait for the main script to initialize first
            setTimeout(function() {
                const filterInput = document.querySelector('.filter-input');
                const resultsCount = document.getElementById('resultsCount');

                // Update results counter
                function updateResultsCounter() {
                    if (resultsCount && typeof filteredCertificates !== 'undefined') {
                        resultsCount.textContent = filteredCertificates.length;
                    }
                }

                // Enhanced search function
                function enhancedSearch(query) {
                    if (typeof certificates === 'undefined' || typeof filteredCertificates === 'undefined') {
                        return;
                    }
                    
                    const searchTerm = query.toLowerCase().trim();
                    
                    if (!searchTerm) {
                        filteredCertificates = [...certificates];
                    } else {
                        filteredCertificates = certificates.filter(certificate =>
                            certificate.title.toLowerCase().includes(searchTerm) ||
                            certificate.provider.toLowerCase().includes(searchTerm) ||
                            (certificate.skills && certificate.skills.some(skill => skill.toLowerCase().includes(searchTerm)))
                        );
                    }
                    
                    if (typeof renderCertificates === 'function') {
                        renderCertificates();
                    }
                    updateResultsCounter();
                }

                // Search input event listener
                if (filterInput) {
                    filterInput.addEventListener('input', function(e) {
                        enhancedSearch(e.target.value);
                    });
                }

                // Year filter functionality
                const yearDropdown = document.getElementById('yearDropdown');
                const yearDropdownMenu = document.getElementById('yearDropdownMenu');
                
                if (yearDropdown && yearDropdownMenu) {
                    yearDropdown.addEventListener('click', function(e) {
                        e.stopPropagation();
                        yearDropdownMenu.classList.toggle('show');
                    });

                    yearDropdownMenu.addEventListener('click', function(e) {
                        if (e.target.classList.contains('dropdown-item')) {
                            const selectedYear = e.target.getAttribute('data-year');
                            
                            if (selectedYear === 'All') {
                                filteredCertificates = [...certificates];
                            } else {
                                filteredCertificates = certificates.filter(cert => 
                                    cert.year.toString() === selectedYear
                                );
                            }
                            
                            if (typeof renderCertificates === 'function') {
                                renderCertificates();
                            }
                            updateResultsCounter();
                            yearDropdownMenu.classList.remove('show');
                        }
                    });
                }

                // Close dropdowns when clicking outside
                document.addEventListener('click', function() {
                    document.querySelectorAll('.dropdown-menu').forEach(menu => {
                        menu.classList.remove('show');
                    });
                });

                // Initial render
                if (typeof certificates !== 'undefined') {
                    filteredCertificates = [...certificates];
                    if (typeof renderCertificates === 'function') {
                        renderCertificates();
                    }
                    updateResultsCounter();
                }
            }, 100);
        });
    </script>
</body>

</html>
